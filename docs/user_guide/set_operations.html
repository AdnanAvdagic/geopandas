
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Set-Operations with Overlay &#8212; GeoPandas 0.10.0 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/toggleprompt.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Aggregation with dissolve" href="aggregation_with_dissolve.html" />
    <link rel="prev" title="Geometric Manipulations" href="geometric_manipulations.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/geopandas_logo_web.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../index.html">
  Home
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../about.html">
  About
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../docs.html">
  Documentation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../community.html">
  Community
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/geopandas/geopandas" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/geopandas" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption" role="heading">
 <span class="caption-text">
  Documentation
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../user_guide.html">
   User Guide
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="data_structures.html">
     Data Structures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="io.html">
     Reading and Writing Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="indexing.html">
     Indexing and Selecting Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mapping.html">
     Making Maps and plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="interactive_mapping.html">
     Interactive mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="projections.html">
     Managing Projections
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="geometric_manipulations.html">
     Geometric Manipulations
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="simple">
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="current reference internal" href="#">
     Set Operations with overlay
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="simple">
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="aggregation_with_dissolve.html">
     Aggregation with dissolve
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="simple">
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="mergingdata.html">
     Merging Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="geocoding.html">
     Geocoding
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../advanced_guide.html">
   Advanced Guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="missing_empty.html">
     Missing and empty geometries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="reproject_fiona.html">
     Re-projecting using GDAL with Rasterio and Fiona
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../reference.html">
   API reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/geoseries.html">
     GeoSeries
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.html">
       geopandas.GeoSeries
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.area.html">
       geopandas.GeoSeries.area
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.boundary.html">
       geopandas.GeoSeries.boundary
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.bounds.html">
       geopandas.GeoSeries.bounds
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.total_bounds.html">
       geopandas.GeoSeries.total_bounds
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.length.html">
       geopandas.GeoSeries.length
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.geom_type.html">
       geopandas.GeoSeries.geom_type
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.distance.html">
       geopandas.GeoSeries.distance
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.representative_point.html">
       geopandas.GeoSeries.representative_point
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.exterior.html">
       geopandas.GeoSeries.exterior
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.interiors.html">
       geopandas.GeoSeries.interiors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.x.html">
       geopandas.GeoSeries.x
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.y.html">
       geopandas.GeoSeries.y
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.z.html">
       geopandas.GeoSeries.z
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.is_empty.html">
       geopandas.GeoSeries.is_empty
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.is_ring.html">
       geopandas.GeoSeries.is_ring
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.is_simple.html">
       geopandas.GeoSeries.is_simple
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.is_valid.html">
       geopandas.GeoSeries.is_valid
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.has_z.html">
       geopandas.GeoSeries.has_z
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.contains.html">
       geopandas.GeoSeries.contains
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.crosses.html">
       geopandas.GeoSeries.crosses
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.disjoint.html">
       geopandas.GeoSeries.disjoint
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.geom_equals.html">
       geopandas.GeoSeries.geom_equals
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.geom_almost_equals.html">
       geopandas.GeoSeries.geom_almost_equals
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.geom_equals_exact.html">
       geopandas.GeoSeries.geom_equals_exact
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.intersects.html">
       geopandas.GeoSeries.intersects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.overlaps.html">
       geopandas.GeoSeries.overlaps
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.touches.html">
       geopandas.GeoSeries.touches
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.within.html">
       geopandas.GeoSeries.within
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.covers.html">
       geopandas.GeoSeries.covers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.covered_by.html">
       geopandas.GeoSeries.covered_by
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.difference.html">
       geopandas.GeoSeries.difference
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.intersection.html">
       geopandas.GeoSeries.intersection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.symmetric_difference.html">
       geopandas.GeoSeries.symmetric_difference
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.union.html">
       geopandas.GeoSeries.union
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.buffer.html">
       geopandas.GeoSeries.buffer
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.boundary.html">
       geopandas.GeoSeries.boundary
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.centroid.html">
       geopandas.GeoSeries.centroid
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.convex_hull.html">
       geopandas.GeoSeries.convex_hull
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.envelope.html">
       geopandas.GeoSeries.envelope
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.simplify.html">
       geopandas.GeoSeries.simplify
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.affine_transform.html">
       geopandas.GeoSeries.affine_transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.rotate.html">
       geopandas.GeoSeries.rotate
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.scale.html">
       geopandas.GeoSeries.scale
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.skew.html">
       geopandas.GeoSeries.skew
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.translate.html">
       geopandas.GeoSeries.translate
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.unary_union.html">
       geopandas.GeoSeries.unary_union
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.explode.html">
       geopandas.GeoSeries.explode
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.from_file.html">
       geopandas.GeoSeries.from_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.from_wkb.html">
       geopandas.GeoSeries.from_wkb
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.from_wkt.html">
       geopandas.GeoSeries.from_wkt
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.from_xy.html">
       geopandas.GeoSeries.from_xy
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.to_file.html">
       geopandas.GeoSeries.to_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.to_json.html">
       geopandas.GeoSeries.to_json
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.to_wkb.html">
       geopandas.GeoSeries.to_wkb
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.to_wkt.html">
       geopandas.GeoSeries.to_wkt
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.crs.html">
       geopandas.GeoSeries.crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.set_crs.html">
       geopandas.GeoSeries.set_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.to_crs.html">
       geopandas.GeoSeries.to_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.estimate_utm_crs.html">
       geopandas.GeoSeries.estimate_utm_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.fillna.html">
       geopandas.GeoSeries.fillna
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.isna.html">
       geopandas.GeoSeries.isna
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.notna.html">
       geopandas.GeoSeries.notna
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.clip.html">
       geopandas.GeoSeries.clip
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.plot.html">
       geopandas.GeoSeries.plot
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.explore.html">
       geopandas.GeoSeries.explore
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.sindex.html">
       geopandas.GeoSeries.sindex
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.has_sindex.html">
       geopandas.GeoSeries.has_sindex
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.cx.html">
       geopandas.GeoSeries.cx
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.__geo_interface__.html">
       geopandas.GeoSeries.__geo_interface__
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/geodataframe.html">
     GeoDataFrame
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.html">
       geopandas.GeoDataFrame
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.from_file.html">
       geopandas.GeoDataFrame.from_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.from_features.html">
       geopandas.GeoDataFrame.from_features
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.from_postgis.html">
       geopandas.GeoDataFrame.from_postgis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_file.html">
       geopandas.GeoDataFrame.to_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_json.html">
       geopandas.GeoDataFrame.to_json
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_parquet.html">
       geopandas.GeoDataFrame.to_parquet
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_feather.html">
       geopandas.GeoDataFrame.to_feather
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_postgis.html">
       geopandas.GeoDataFrame.to_postgis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_wkb.html">
       geopandas.GeoDataFrame.to_wkb
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_wkt.html">
       geopandas.GeoDataFrame.to_wkt
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.crs.html">
       geopandas.GeoDataFrame.crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.set_crs.html">
       geopandas.GeoDataFrame.set_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_crs.html">
       geopandas.GeoDataFrame.to_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.estimate_utm_crs.html">
       geopandas.GeoDataFrame.estimate_utm_crs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.rename_geometry.html">
       geopandas.GeoDataFrame.rename_geometry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.set_geometry.html">
       geopandas.GeoDataFrame.set_geometry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.dissolve.html">
       geopandas.GeoDataFrame.dissolve
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.explode.html">
       geopandas.GeoDataFrame.explode
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.sjoin.html">
       geopandas.GeoDataFrame.sjoin
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.sjoin_nearest.html">
       geopandas.GeoDataFrame.sjoin_nearest
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.clip.html">
       geopandas.GeoDataFrame.clip
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html">
       geopandas.GeoDataFrame.overlay
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.explore.html">
       geopandas.GeoDataFrame.explore
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.plot.html">
       geopandas.GeoDataFrame.plot
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.sindex.html">
       geopandas.GeoDataFrame.sindex
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.has_sindex.html">
       geopandas.GeoDataFrame.has_sindex
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.cx.html">
       geopandas.GeoDataFrame.cx
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.__geo_interface__.html">
       geopandas.GeoDataFrame.__geo_interface__
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.iterfeatures.html">
       geopandas.GeoDataFrame.iterfeatures
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/io.html">
     Input/output
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.read_file.html">
       geopandas.read_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_file.html">
       geopandas.GeoDataFrame.to_file
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.read_postgis.html">
       geopandas.read_postgis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_postgis.html">
       geopandas.GeoDataFrame.to_postgis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.read_feather.html">
       geopandas.read_feather
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_feather.html">
       geopandas.GeoDataFrame.to_feather
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.read_parquet.html">
       geopandas.read_parquet
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.to_parquet.html">
       geopandas.GeoDataFrame.to_parquet
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/tools.html">
     Tools
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sjoin.html">
       geopandas.sjoin
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sjoin_nearest.html">
       geopandas.sjoin_nearest
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.overlay.html">
       geopandas.overlay
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.clip.html">
       geopandas.clip
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.tools.geocode.html">
       geopandas.tools.geocode
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.tools.reverse_geocode.html">
       geopandas.tools.reverse_geocode
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.tools.collect.html">
       geopandas.tools.collect
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.points_from_xy.html">
       geopandas.points_from_xy
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.datasets.available.html">
       geopandas.datasets.available
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.datasets.get_path.html">
       geopandas.datasets.get_path
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/sindex.html">
     Spatial index
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.GeoSeries.sindex.html">
       geopandas.GeoSeries.sindex
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.intersection.html">
       geopandas.sindex.SpatialIndex.intersection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.is_empty.html">
       geopandas.sindex.SpatialIndex.is_empty
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.nearest.html">
       geopandas.sindex.SpatialIndex.nearest
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.query.html">
       geopandas.sindex.SpatialIndex.query
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.query_bulk.html">
       geopandas.sindex.SpatialIndex.query_bulk
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.size.html">
       geopandas.sindex.SpatialIndex.size
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.sindex.SpatialIndex.valid_query_predicates.html">
       geopandas.sindex.SpatialIndex.valid_query_predicates
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../reference/testing.html">
     Testing
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.testing.assert_geoseries_equal.html">
       geopandas.testing.assert_geoseries_equal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../reference/api/geopandas.testing.assert_geodataframe_equal.html">
       geopandas.testing.assert_geodataframe_equal
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../changelog.html">
   Changelog
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-different-overlay-operations">
   The different Overlay operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overlay-countries-example">
   Overlay Countries Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#keep-geom-type-keyword">
   keep_geom_type keyword
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#more-examples">
   More Examples
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="set-operations-with-overlay">
<h1>Set-Operations with Overlay<a class="headerlink" href="#set-operations-with-overlay" title="Permalink to this headline">¶</a></h1>
<p>When working with multiple spatial datasets – especially multiple <em>polygon</em> or
<em>line</em> datasets – users often wish to create new shapes based on places where
those datasets overlap (or don’t overlap). These manipulations are often
referred using the language of sets – intersections, unions, and differences.
These types of operations are made available in the <em>geopandas</em> library through
the <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> method.</p>
<p>The basic idea is demonstrated by the graphic below but keep in mind that
overlays operate at the DataFrame level, not on individual geometries, and the
properties from both are retained. In effect, for every shape in the left
<a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.html#geopandas.GeoDataFrame" title="geopandas.GeoDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoDataFrame</span></code></a>, this operation is executed against every other shape in the right
<a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.html#geopandas.GeoDataFrame" title="geopandas.GeoDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoDataFrame</span></code></a>:</p>
<img alt="../../_images/overlay_operations.png" src="../../_images/overlay_operations.png" />
<p><strong>Source: QGIS Documentation</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note to users familiar with the <em>shapely</em> library: <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> can be thought
of as offering versions of the standard <em>shapely</em> set-operations that deal with
the complexities of applying set operations to two <em>GeoSeries</em>. The standard
<em>shapely</em> set-operations are also available as <a class="reference internal" href="../reference/api/geopandas.GeoSeries.html#geopandas.GeoSeries" title="geopandas.GeoSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoSeries</span></code></a> methods.</p>
</div>
<div class="section" id="the-different-overlay-operations">
<h2>The different Overlay operations<a class="headerlink" href="#the-different-overlay-operations" title="Permalink to this headline">¶</a></h2>
<p>First, we create some example data:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Polygon</span>

<span class="gp">In [2]: </span><span class="n">polys1</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span><span class="n">Polygon</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)]),</span>
<span class="gp">   ...: </span>                              <span class="n">Polygon</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)])])</span>
<span class="gp">   ...: </span>

<span class="gp">In [3]: </span><span class="n">polys2</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span><span class="n">Polygon</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]),</span>
<span class="gp">   ...: </span>                              <span class="n">Polygon</span><span class="p">([(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)])])</span>
<span class="gp">   ...: </span>

<span class="gp">In [4]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">({</span><span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="n">polys1</span><span class="p">,</span> <span class="s1">&#39;df1&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]})</span>

<span class="gp">In [5]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">({</span><span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="n">polys2</span><span class="p">,</span> <span class="s1">&#39;df2&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]})</span>
</pre></div>
</div>
<p>These two GeoDataFrames have some overlapping areas:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">);</span>

<span class="gp">In [7]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example.png"><img alt="../../_images/overlay_example.png" src="../../_images/overlay_example.png" style="width: 5in;" /></a>
<p>We illustrate the different overlay modes with the above example.
The <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> method will determine the set of all individual geometries
from overlaying the two input GeoDataFrames. This result covers the area covered
by the two input GeoDataFrames, and also preserves all unique regions defined by
the combined boundaries of the two GeoDataFrames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For historical reasons, the overlay method is also available as a top-level function <a class="reference internal" href="../reference/api/geopandas.overlay.html#geopandas.overlay" title="geopandas.overlay"><code class="xref py py-func docutils literal notranslate"><span class="pre">overlay()</span></code></a>.
It is recommended to use the method as the function may be deprecated in the future.</p>
</div>
<p>When using <code class="docutils literal notranslate"><span class="pre">how='union'</span></code>, all those possible geometries are returned:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">res_union</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;union&#39;</span><span class="p">)</span>

<span class="gp">In [9]: </span><span class="n">res_union</span>
<span class="gh">Out[9]: </span><span class="go"></span>
<span class="go">   df1  df2                                           geometry</span>
<span class="go">0  1.0  1.0  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">1  2.0  1.0  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">2  2.0  2.0  POLYGON ((4.000000000 4.000000000, 4.000000000...</span>
<span class="go">3  1.0  NaN  POLYGON ((2.000000000 0.000000000, 0.000000000...</span>
<span class="go">4  2.0  NaN  MULTIPOLYGON (((3.000000000 3.000000000, 4.000...</span>
<span class="go">5  NaN  1.0  MULTIPOLYGON (((2.000000000 2.000000000, 3.000...</span>
<span class="go">6  NaN  2.0  POLYGON ((3.000000000 5.000000000, 5.000000000...</span>

<span class="gp">In [10]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">res_union</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

<span class="gp">In [12]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example_union.png"><img alt="../../_images/overlay_example_union.png" src="../../_images/overlay_example_union.png" style="width: 5in;" /></a>
<p>The other <code class="docutils literal notranslate"><span class="pre">how</span></code> operations will return different subsets of those geometries.
With <code class="docutils literal notranslate"><span class="pre">how='intersection'</span></code>, it returns only those geometries that are contained
by both GeoDataFrames:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">res_intersection</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;intersection&#39;</span><span class="p">)</span>

<span class="gp">In [14]: </span><span class="n">res_intersection</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">   df1  df2                                           geometry</span>
<span class="go">0    1    1  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">1    2    1  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">2    2    2  POLYGON ((4.000000000 4.000000000, 4.000000000...</span>

<span class="gp">In [15]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">res_intersection</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

<span class="gp">In [17]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example_intersection.png"><img alt="../../_images/overlay_example_intersection.png" src="../../_images/overlay_example_intersection.png" style="width: 5in;" /></a>
<p><code class="docutils literal notranslate"><span class="pre">how='symmetric_difference'</span></code> is the opposite of <code class="docutils literal notranslate"><span class="pre">'intersection'</span></code> and returns
the geometries that are only part of one of the GeoDataFrames but not of both:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">res_symdiff</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;symmetric_difference&#39;</span><span class="p">)</span>

<span class="gp">In [19]: </span><span class="n">res_symdiff</span>
<span class="gh">Out[19]: </span><span class="go"></span>
<span class="go">   df1  df2                                           geometry</span>
<span class="go">0  1.0  NaN  POLYGON ((2.000000000 0.000000000, 0.000000000...</span>
<span class="go">1  2.0  NaN  MULTIPOLYGON (((3.000000000 3.000000000, 4.000...</span>
<span class="go">2  NaN  1.0  MULTIPOLYGON (((2.000000000 2.000000000, 3.000...</span>
<span class="go">3  NaN  2.0  POLYGON ((3.000000000 5.000000000, 5.000000000...</span>

<span class="gp">In [20]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">res_symdiff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

<span class="gp">In [22]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example_symdiff.png"><img alt="../../_images/overlay_example_symdiff.png" src="../../_images/overlay_example_symdiff.png" style="width: 5in;" /></a>
<p>To obtain the geometries that are part of <code class="docutils literal notranslate"><span class="pre">df1</span></code> but are not contained in
<code class="docutils literal notranslate"><span class="pre">df2</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">how='difference'</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">res_difference</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;difference&#39;</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="n">res_difference</span>
<span class="gh">Out[24]: </span><span class="go"></span>
<span class="go">                                            geometry  df1</span>
<span class="go">0  POLYGON ((2.000000000 0.000000000, 0.000000000...    1</span>
<span class="go">1  MULTIPOLYGON (((3.000000000 3.000000000, 4.000...    2</span>

<span class="gp">In [25]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">res_difference</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

<span class="gp">In [27]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example_difference.png"><img alt="../../_images/overlay_example_difference.png" src="../../_images/overlay_example_difference.png" style="width: 5in;" /></a>
<p>Finally, with <code class="docutils literal notranslate"><span class="pre">how='identity'</span></code>, the result consists of the surface of <code class="docutils literal notranslate"><span class="pre">df1</span></code>,
but with the geometries obtained from overlaying <code class="docutils literal notranslate"><span class="pre">df1</span></code> with <code class="docutils literal notranslate"><span class="pre">df2</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="n">res_identity</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">)</span>

<span class="gp">In [29]: </span><span class="n">res_identity</span>
<span class="gh">Out[29]: </span><span class="go"></span>
<span class="go">   df1  df2                                           geometry</span>
<span class="go">0  1.0  1.0  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">1  2.0  1.0  POLYGON ((2.000000000 2.000000000, 2.000000000...</span>
<span class="go">2  2.0  2.0  POLYGON ((4.000000000 4.000000000, 4.000000000...</span>
<span class="go">3  1.0  NaN  POLYGON ((2.000000000 0.000000000, 0.000000000...</span>
<span class="go">4  2.0  NaN  MULTIPOLYGON (((3.000000000 3.000000000, 4.000...</span>

<span class="gp">In [30]: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">res_identity</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>

<span class="gp">In [31]: </span><span class="n">df1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>

<span class="gp">In [32]: </span><span class="n">df2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/overlay_example_identity.png"><img alt="../../_images/overlay_example_identity.png" src="../../_images/overlay_example_identity.png" style="width: 5in;" /></a>
</div>
<div class="section" id="overlay-countries-example">
<h2>Overlay Countries Example<a class="headerlink" href="#overlay-countries-example" title="Permalink to this headline">¶</a></h2>
<p>First, we load the countries and cities example datasets and select :</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">world</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">geopandas</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;naturalearth_lowres&#39;</span><span class="p">))</span>

<span class="gp">In [34]: </span><span class="n">capitals</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">geopandas</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_path</span><span class="p">(</span><span class="s1">&#39;naturalearth_cities&#39;</span><span class="p">))</span>

<span class="go"># Select South America and some columns</span>
<span class="gp">In [35]: </span><span class="n">countries</span> <span class="o">=</span> <span class="n">world</span><span class="p">[</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;continent&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;South America&quot;</span><span class="p">]</span>

<span class="gp">In [36]: </span><span class="n">countries</span> <span class="o">=</span> <span class="n">countries</span><span class="p">[[</span><span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">]]</span>

<span class="go"># Project to crs that uses meters as distance measure</span>
<span class="gp">In [37]: </span><span class="n">countries</span> <span class="o">=</span> <span class="n">countries</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="s1">&#39;epsg:3395&#39;</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">capitals</span> <span class="o">=</span> <span class="n">capitals</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="s1">&#39;epsg:3395&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To illustrate the <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> method, consider the following case in which one
wishes to identify the “core” portion of each country – defined as areas within
500km of a capital – using a <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code> of countries and a
<code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code> of capitals.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Look at countries:</span>
<span class="gp">In [39]: </span><span class="n">countries</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>

<span class="go"># Now buffer cities to find area within 500km.</span>
<span class="go"># Check CRS -- World Mercator, units of meters.</span>
<span class="gp">In [40]: </span><span class="n">capitals</span><span class="o">.</span><span class="n">crs</span>
<span class="gh">Out[40]: </span><span class="go"></span>
<span class="go">&lt;Projected CRS: EPSG:3395&gt;</span>
<span class="go">Name: WGS 84 / World Mercator</span>
<span class="go">Axis Info [cartesian]:</span>
<span class="go">- E[east]: Easting (metre)</span>
<span class="go">- N[north]: Northing (metre)</span>
<span class="go">Area of Use:</span>
<span class="go">- name: World between 80°S and 84°N.</span>
<span class="go">- bounds: (-180.0, -80.0, 180.0, 84.0)</span>
<span class="go">Coordinate Operation:</span>
<span class="go">- name: World Mercator</span>
<span class="go">- method: Mercator (variant A)</span>
<span class="go">Datum: World Geodetic System 1984 ensemble</span>
<span class="go">- Ellipsoid: WGS 84</span>
<span class="go">- Prime Meridian: Greenwich</span>

<span class="go"># make 500km buffer</span>
<span class="gp">In [41]: </span><span class="n">capitals</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">capitals</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">500000</span><span class="p">)</span>

<span class="gp">In [42]: </span><span class="n">capitals</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/world_basic.png"><img alt="../../_images/world_basic.png" src="../../_images/world_basic.png" style="width: 5in;" /></a>
<a class="reference internal image-reference" href="../../_images/capital_buffers.png"><img alt="../../_images/capital_buffers.png" src="../../_images/capital_buffers.png" style="width: 5in;" /></a>
<p>To select only the portion of countries within 500km of a capital, we specify the <code class="docutils literal notranslate"><span class="pre">how</span></code> option to be “intersect”, which creates a new set of polygons where these two layers overlap:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">country_cores</span> <span class="o">=</span> <span class="n">countries</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">capitals</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;intersection&#39;</span><span class="p">)</span>

<span class="gp">In [44]: </span><span class="n">country_cores</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/country_cores.png"><img alt="../../_images/country_cores.png" src="../../_images/country_cores.png" style="width: 5in;" /></a>
<p>Changing the “how” option allows for different types of overlay operations. For example, if we were interested in the portions of countries <em>far</em> from capitals (the peripheries), we would compute the difference of the two.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">country_peripheries</span> <span class="o">=</span> <span class="n">countries</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">capitals</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;difference&#39;</span><span class="p">)</span>

<span class="gp">In [46]: </span><span class="n">country_peripheries</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">);</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/country_peripheries.png"><img alt="../../_images/country_peripheries.png" src="../../_images/country_peripheries.png" style="width: 5in;" /></a>
</div>
<div class="section" id="keep-geom-type-keyword">
<h2>keep_geom_type keyword<a class="headerlink" href="#keep-geom-type-keyword" title="Permalink to this headline">¶</a></h2>
<p>In default settings, <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> returns only geometries of the same geometry type as GeoDataFrame
(left one) has, where Polygon and MultiPolygon is considered as a same type (other types likewise).
You can control this behavior using <code class="docutils literal notranslate"><span class="pre">keep_geom_type</span></code> option, which is set to
True by default. Once set to False, <code class="docutils literal notranslate"><span class="pre">overlay</span></code> will return all geometry types resulting from
selected set-operation. Different types can result for example from intersection of touching geometries,
where two polygons intersects in a line or a point.</p>
</div>
<div class="section" id="more-examples">
<h2>More Examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<p>A larger set of examples of the use of <a class="reference internal" href="../reference/api/geopandas.GeoDataFrame.overlay.html#geopandas.GeoDataFrame.overlay" title="geopandas.GeoDataFrame.overlay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">overlay()</span></code></a> can be found <a class="reference external" href="https://nbviewer.jupyter.org/github/geopandas/geopandas/blob/master/doc/source/gallery/overlays.ipynb">here</a></p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="geometric_manipulations.html" title="previous page">Geometric Manipulations</a>
    <a class='right-next' id="next-link" href="aggregation_with_dissolve.html" title="next page">Aggregation with dissolve</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2013–2021, GeoPandas developers.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>